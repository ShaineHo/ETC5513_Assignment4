---
title: "Research Topic"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: scroll
---

```{r setup, include=FALSE}
library(flexdashboard)
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyverse)
library(gganimate)
library(plotly)
```

Introduction {.tabset}
======================

Column {data-width=700}
-----------------------------------------------------------------------

### Chart A

```{r}

```



Column {data-width=300}
-----------------------------------------------------------------------

### Chart B

```{r}

```

### Group info

**Team of Thrones**

*Members:*

- *Ambalika Gupta*
- *Smriti Vinayak Bhat*
- *Yin Shan Ho*

Skills {.tabset} 
======================

Column
--------------------------

### Trend of skill categories across the different verticals by year

```{r read-data}
skills_dataset <- readxl::read_excel("../data/public_use-industry-skills-needs.xlsx", sheet = "Industry Skills Needs")
```

```{r}
skill_categ_trend <- skills_dataset %>%
  select(year, skill_group_category, isic_section_name) %>%
  group_by(year,isic_section_name,skill_group_category) %>%
  tally()

p <- skill_categ_trend %>%
  ggplot(aes(x = skill_group_category, y = n, colour = skill_group_category)) +
  geom_point(aes(frame = year)) +
  facet_wrap(~isic_section_name, labeller = label_wrap_gen(25)) +
  coord_flip() +
  theme_bw(base_size = 10) +
  theme(strip.text = element_text(size = 9, colour = "black"),
        strip.background = element_blank(),
        axis.title.y = element_blank(),
        legend.position = "none")
ggplotly(p)  %>%
  animation_opts(
    1000, easing = "elastic", redraw = FALSE
  ) %>%
  animation_slider(
    currentvalue = list(prefix = "YEAR ", font = list(color="black", style = "bold"))
  )
```



Column
--------------------------

### Trend in change of useful skills across occupations

```{r}
tech_trend <- skills_dataset %>%
  select(year,skill_group_name) %>%
  group_by(year,skill_group_name) %>%
  tally() %>%
  group_by(year) %>%
  arrange(desc(n), .by_group = TRUE)

tech_trend <- by(tech_trend, tech_trend["year"], head, n=10)
tech_trend <- Reduce(rbind,tech_trend)

plot_ly(tech_trend) %>%
  add_bars(
    x = ~year, y = ~abs(n),
    frame = ~year, 
    color = ~skill_group_name,
    line = list(simplify = FALSE)
  ) %>%
  layout(yaxis = list(title = "Skills trend"))
```



### Analysis


Talent Migration {.tabset} 
======================




Employment Growth {.tabset} 
======================



References {.tabset}
======================

World Bank. (n.d.). Skills | LinkedIn Data | Data Catalog. Retrieved May 17, 2021, from https://datacatalog.worldbank.org/dataset/skills-linkedin-data
